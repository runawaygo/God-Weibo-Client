<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style>
        img
        {
            -webkit-transition: All 0.2s ease-out;
            -moz-transition: All 0.2s ease-out;
            -o-transition: All 0.2s ease-out;
            cursor: pointer;
        }
        #circle-btn
        {
            width: 64px; height: 64px;
            margin: 64px; z-index: 100px;
        }

		#mainContainer:hover #circle-btn
        {
            -webkit-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px);
            -moz-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px);
            -o-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px); 
        }
        
        #mainContainer:hover #background-image
        {
            -webkit-transform: scale(1);
            -moz-transform: scale(1);
            -o-transform: scale(1);
            opacity:1;
        }
        
 
		#background-image
        {
	 		width: 100%; height: 100%; position: absolute; top: 0px; left: 0px; z-index: -1;
            -webkit-transform: scale(0.6);
            -moz-transform: scale(0.6);
            -o-transform: scale(0.6);
            opacity:0;
        }
        
		#mainContainer:hover .child {
            -webkit-transform: rotate(0deg) scale(1) skew(1deg) translate(0px);
            -moz-transform: rotate(0deg) scale(1) skew(1deg) translate(0px);
            -o-transform: rotate(0deg) scale(1) skew(1deg) translate(0px);
            opacity:1;
		}
		
		
		#mainContainer:hover .child:hover
		{
			 -webkit-transition: All 0.1s ease-out;
	            -moz-transition: All 0.1s ease-out;
	            -o-transition: All 0.1s ease-out;
	            -webkit-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px);
	            -moz-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px);
	            -o-transform: rotate(0deg) scale(1.2) skew(1deg) translate(0px);
		}

        .child
        {
            -webkit-transform: rotate(0deg) scale(0.5) skew(1deg) translate(0px);
            -moz-transform: rotate(0deg) scale(0.5) skew(1deg) translate(0px);
            -o-transform: rotate(0deg) scale(0.5) skew(1deg) translate(0px);
			position:absolute;
            opacity:0;
	
		}
        
        .child-click-animation {
            -webkit-animation: cssAnimation 0.3s 1 ease-in;
            -moz-animation: cssAnimation 0.3s 1 ease-in;
            }
            @-webkit-keyframes cssAnimation {
            from { -webkit-transform: rotate(360deg) scale(1) skew(1deg) translate(0px); }
            to { -webkit-transform: rotate(360deg) scale(1.2) skew(1deg) translate(0px); }
            }
            @-moz-keyframes cssAnimation {
            from { -moz-transform: rotate(360deg) scale(1) skew(1deg) translate(0px); }
            to { -moz-transform: rotate(360deg) scale(1.2) skew(1deg) translate(0px); }
        }

        #mainContainer
        {
            position: absolute; cursor: pointer; width: 192px;
            height: 192px; right: 50px; top: 50px;
        }
    </style>
    <script src="jquery-1.5.1.min.js" type="text/javascript"></script>
	<script src="jquery-ui-1.8.12.custom.min.js" type="text/javascript" charset="utf-8"></script>
    
    <script>

        var functionItems = [
            { url: '/message/send', title: 'email', image: 'style/functionimages/email-icon.png' },
            { url: '/project/addworkitem', title: 'task', image: 'style/functionimages/Misterwong-icon.png' },
            { url: '/project/workitemlist', title: 'tasklist', image: 'style/functionimages/Simpy-icon.png' },
            { url: '/attendance/DoCheckAttendance?attendanceTypeStr=onDuty&target=action', title: 'geton', image: 'style/functionimages/Msn-icon.png' },
            { url: '/attendance/DoCheckAttendance?attendanceTypeStr=offDuty&target=action', title: 'getoff', image: 'style/functionimages/Aol-icon.png' },
            { url: '/project/projectlist', title: 'project', image: 'style/functionimages/project-icon.png' },
            ];

        var centerDistance = 64;
		var elementEdge = 40;
        var startAngel = Math.PI * 2 * 5 / 8;
        var addtionalAngel = Math.PI * 2 / 6;

        var maxCount = Math.PI * 2 / addtionalAngel;
        var functionContainerTemplate = "<img class='child' title='{title}' src='{image}' />";

        function createElement(functionData) {
            var elementHTML = functionContainerTemplate
                            .replace('{title}', functionData.title)
                            .replace('{image}', functionData.image);
            var $functionContainer = $(elementHTML).css({width:elementEdge,height:elementEdge});

            $functionContainer
			.appendTo('#mainContainer')
            .mousedown(function () {
                $(this).addClass('child-click-animation');
            }).mouseup(function () {
                $(this).removeClass('child-click-animation');
            })
            .click(function (event) {
                event.preventDefault();
                event.stopPropagation();

                doSomething(functionData);
            });
        }
		function doSomething(functionData){
			
		}
        function createCircleEffect() {
            for (var i = 0; i < functionItems.length; i++) {
                createElement(functionItems[i]);
            }

            $('.child')
            .each(function (i, item) {
                var angle = startAngel + addtionalAngel * i;
				//from center to desire point
                var xDistance = Math.sin(angle) * centerDistance;
                var yDistance = Math.cos(angle) * centerDistance;
				
				//center point
				var center  ={x:96,y:96};
				
				var top = center.x + xDistance-elementEdge/2;
				var left = center.y + yDistance-elementEdge/2;
				
				$(item).css({top:top,left:left});
            });
        }
        $(function () {
            createCircleEffect();
			$('#mainContainer').draggable();
        });
    </script>
</head>
<body style="position: absolute; overflow: hidden; width: 100%; height: 100%; margin: 0;">
	
    <div id="mainContainer">
        <img id="background-image" class="background-normal" src='style/functionimages/bg_bg.png' />
        <img id="circle-btn" src='style/functionimages/minimain.2.png' />
    </div>
</body>
</html>
