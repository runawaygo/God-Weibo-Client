<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
    <style>
        html, body
        {
            margin: 0;
            padding: 0;
        }
        
        #app
        {
            height: 100%; /* This sets the containing element up to use a box layout */
            display: -webkit-box; /* We want to layout our first container vertically */
            -webkit-box-orient: vertical; /* we want our child elements to stretch to fit the container */
            -webkit-box-align: stretch;
        }
    </style>
    <script src="js/jquery-1.5.1.min.js"></script>
    <script src="js/jquery-ui-1.8.12.custom.min.js"></script>
    <script>

        function dosomething() {
            alert('superwolf');
            //Titanium.UI.createWindow("app://jquerymobile/jquerymobiletest.html");
            window.setHeight(1000);
        }

        var dragging = false;
        document.onmousemove = function () {
            if (!dragging)
                return;

            Titanium.UI.currentWindow.setX(Titanium.UI.currentWindow.getX() + event.clientX - xstart);
            Titanium.UI.currentWindow.setY(Titanium.UI.currentWindow.getY() + event.clientY - ystart);

        }

        document.onmousedown = function () {
            dragging = true;
            xstart = event.clientX;
            ystart = event.clientY;
        }
        document.onmouseup = function () {
            dragging = false;
        }

        function GetNewWindow() {


            //            var newWindow = Titanium.UI.createWindow("app://jquerymobile/jquerymobiletest.html");
            var newWindow = Titanium.UI.createWindow("http://www.baidu.com");
                newWindow.setHeight(200);
                newWindow.setWidth(200);
                var menu = Titanium.UI.createMenu();
                var item = Titanium.UI.createMenuItem("Do something");
                menu.appendItem(item);
                newWindow.setContextMenu(menu);
                newWindow.open();
         
        }

        function GetNotification() {
            var notifcation = null
            try {
                notifcation = Titanium.Notification.createNotification(window);
                
            }
            catch (e) {
                alert(e);
            }
            notifcation.setTitle("test");
            notifcation.setMessage("superwolf");
           
            notifcation.show();

        }

        function takeScreenshot() {
            try {
                Titanium.Platform.takeScreenshot("d:\\dd.png")
            }
            catch (e) {
                alert(e);
            }

        }
		
		var flag = true;
		function changeView()
		{
			if(flag)
			{
				$('#task').show();
				$('#circle').hide();	
			}
			else
			{
				$('#task').hide();
				$('#circle').show();
			}
			flag= !flag;
		}
    </script>
</head>
<body>
    <div id="app" style="background: rgba(255,0,0,0); -webkit-border-radius: 5px; border-radius: 5px;">
        <div style="padding: 1px; backgroud-color: #333333;">
            <span>Welcome to Titanium</span> 
            <span style="float:right;">
                <button onclick="GetNewWindow();">TestNewWindow</button>
                <button onclick="GetNotification();">TestNotification</button>
				<button onclick="changeView()">ChangeView</button>
                <button>
                  最小化</button>
                <button>
                   关闭</button>
            </span>
        </div>
        <div style="height: 80%; width:100%;">
            <iframe id="task" src="taskboard/taskboard.htm" style="width: 100%; height: 100%;position:absolute;"
              scrolling="no"  frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes">
            </iframe>
            <iframe id="circle" src="circle/minimain.html" style="width: 100%; height: 100%;position:absolute;"
              scrolling="no"  frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes">
            </iframe>

        </div>
 
</body>
</html>
